{% macro description(song) %}
    {% if song is null %}
        deleted
    {% else %}
        <div class="d-flex flex-row">
            <a href="{{ url('song_detail',{slug:song.slug}) }}">
                <figure class="product-preview-image short liquid" style="position: relative">

                    {% if song.isNew %}
                        <span class="badge new badge-primary">new</span>
                    {% endif %}
                    {% if song.converted %}
                        <div class="white bold text-center bg-danger"
                             style="font-size: 12px;bottom: 0;position: absolute;width: 100%;border-radius: 0 0 5px 5px;">
                            converted
                        </div>
                    {% endif %}
                    <img  data-src="/covers/{{ song.id ~ song.coverImageExtension }}"
                         class="lazyload img-fluid rounded thumbnail"
                         alt="cover">
                </figure>
            </a>

            <div class="song-preview pl-2">
                <p class="title"><a href="{{ url('song_detail',{slug:song.slug}) }}">{{ song.name }}</a></p>
                <p class="category"><a
                            href="{{ url('home') }}?search=artist%3A{{ song.authorName }}">{{ song.authorName }}</a></p>
                <p class="creator">Mapped by :
                    <a href="{{ url('user_mapped_profile', {id:song.user.id}) }}">{{ song.levelAuthorName }}</a>
                    {# <a href="{{ url('home') }}?search=mapper:{{ song.levelAuthorName }}">{{ song.levelAuthorName }}</a> #}
                </p>
                <p class="difficulties">Difficulties :
                    {% for diff in song.songDifficulties %}
                        {% if loop.index != 1 %}, {% endif %}
                        <span style="color:#{{ diff.difficultyRank.color }}">{% if diff.isRanked %}<i
                                    class="fas fa-trophy"></i>{% endif %} {{ diff.difficultyRank.level }}</span>
                    {% endfor %}</p>
            </div>
        </div>
    {% endif %}
{% endmacro %}
{% macro description2(song) %}
    {% if song is null %}
        deleted
    {% else %}
        <div class="d-flex flex-row">
            <figure class="product-preview-image short liquid" style="position: relative">

                {% if song.isNew %}
                    <span class="badge new badge-primary">new</span>
                {% endif %}
                {% if song.converted %}
                    <div class="white bold text-center bg-danger"
                         style="font-size: 12px;bottom: 0;position: absolute;width: 100%;border-radius: 0 0 5px 5px;">
                        converted
                    </div>
                {% endif %}
                <div class="bookmark">
                    <a href="#"
                       class="text-level-10 ajax-load popover-trigger song-bookmark"
                       data-trigger="hover"
                       data-placement="top"
                       data-content="{{ "Add to playlist"|trans }}"
                       data-replace-selector="#songPlaylists .modal-body"
                       data-toggle='modal' data-target='#songPlaylists'
                       data-url='{{ url('song_playlist',{id:song.id}) }}'
                       data-song-id='{{ song.id }}'>
                        <i class="far fa-bookmark"></i>
                    </a>
                </div>

                <a href="{{ url('song_detail',{slug:song.slug}) }}">
                    <img data-src="/covers/{{ song.id ~ song.coverImageExtension }}"
                         class="lazyload img-fluid rounded thumbnail"
                         alt="cover"/>
                </a>
            </figure>


            <div class="song-preview pl-2">
                <div class="title"><a href="{{ url('song_detail',{slug:song.slug}) }}">{{ song.name }}</a></div>
                <div class="category"><a
                            href="{{ url('home') }}?search=artist%3A{{ song.authorName }}">{{ song.authorName }}</a></div>
                <div class="creator">Mapped by :
                    <a href="{{ url('user_mapped_profile', {id:song.user.id}) }}">{{ song.levelAuthorName }}</a>
                    {# <a href="{{ url('home') }}?search=mapper:{{ song.levelAuthorName }}">{{ song.levelAuthorName }}</a> #}
                </div>
                <div class="difficulties">Difficulties :
                    {% for diff in song.songDifficulties %}
                        {% if loop.index != 1 %}, {% endif %}
                        <span style="color:#{{ diff.difficultyRank.color }}">{% if diff.isRanked %}<i
                                    class="fas fa-trophy" data-toggle="tooltip" title="Ranked"></i>{% endif %} {{ diff.difficultyRank.level }}</span>
                    {% endfor %}</div>
            </div>
        </div>
    {% endif %}
{% endmacro %}