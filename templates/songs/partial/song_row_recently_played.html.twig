{% import "songs/macros/song.html.twig" as song_macro %}
{% set song = score.songDifficulty.song %}
<tr>
    <td>
        <div class="d-flex ">
            <a href="{{ url('song_detail',{slug:song.slug}) }}"><img src="{{ song.cover }}" alt="cover"/></a>
            <div class="song pl-1">
                <div class="title"><a href="{{ url('song_detail',{slug:song.slug}) }}">{{ song|raw }}</a></div>
                <div class="author"><a
                            href="{{ url('song_library') }}?search=artist%3A{{ song.authorName|url_encode }}">{{ song.authorName }}</a>
                </div>
            </div>
        </div>
    </td>

    <td>
        <div class="level-list">
            {% set diff = score.songDifficulty %}
                <div class='level {% if diff.isRanked %}is-ranked{% endif %}' style="background-color:#{{ diff.difficultyRank.color }};">
                    {% if diff.isRanked %}<i class="fas fa-star" data-toggle="tooltip" title="Ranked" style="color:#{{ diff.difficultyRank.color }};"></i>{% endif %}
                    <span >{{ diff.difficultyRank.level }}</span>
                </div>
        </div>
    </td>
    <td>
            {{ score.scoreDisplay }} 
    </td>
    <td>
        {{ score.rawPP }}
    </td>
    <td class="text-grey">
        {{ score.timeAgoShort}}&nbsp;
    </td>
    <td>
        <div class="more-stat" data-toggle="tooltip" title="Click to see the history" data-song-difficulty="{{ score.songDifficulty.id }}">
            {{ song_macro.stats(score) }}
        </div>
    </td>


</tr>


