{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
    <!-- GRID -->
    <div class="grid grid-12">

        <!-- GRID COLUMN -->
        <div class="account-hub-content">
            <!-- SECTION HEADER -->
            <div class="section-header">
                <!-- SECTION HEADER INFO -->
                <div class="section-header-info">
                    <!-- SECTION PRETITLE -->
                    <p class="section-pretitle">{{ "Catalog"|trans }}</p>
                    <!-- /SECTION PRETITLE -->

                    <!-- SECTION TITLE -->
                    <h2 class="section-title">{{ "Songs"|trans }} <span class="highlighted">{{ songs.count }}</span>
                    </h2>
                    <!-- /SECTION TITLE -->
                </div>
                <!-- /SECTION HEADER INFO -->
            </div>
            <!-- /SECTION HEADER -->

            <!-- SECTION FILTERS BAR -->
            <div class="section-filters-bar v2">
                <!-- FORM -->
                <form class="form">
                    <!-- FORM ITEM -->
                    <div class="form-item split medium">
                        <!-- FORM SELECT -->
                        <div class="form-item">
                            <!-- FORM INPUT -->
                            <div class="form-input active">
                                <label for="search">Search</label>
                                <input type="text" value="{{ app.request.get('search') }}"
                                       placeholder="Search by title, artist or mapper" name="search" id="search">
                            </div>
                            <!-- /FORM INPUT -->
                        </div>


                        <div class="form-select">
                            <label for="downloads-filter-category">{{ "Filter by difficulties"|trans }}</label>
                            <select id="downloads-filter-category" name="downloads_filter_difficulties">
                                <option value="">{{ "All"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_difficulties') == 1 %}selected="selected"{% endif %}
                                        value="1">{{ "1-3"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_difficulties') == 2 %}selected="selected"{% endif %}
                                        value="2">{{ "4-7"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_difficulties') == 3 %}selected="selected"{% endif %}
                                        value="3">{{ "8-10"|trans }}</option>
                            </select>
                            <!-- FORM SELECT ICON -->
                            <svg class="form-select-icon icon-small-arrow">
                                <use xlink:href="#svg-small-arrow"></use>
                            </svg>
                            <!-- /FORM SELECT ICON -->
                        </div>
                        <!-- /FORM SELECT -->
                        <div class="form-select">
                            <label for="downloads-filter-order">{{ "Converted map"|trans }}</label>
                            <select id="downloads-filter-order" name="converted_maps">
                                <option value="">{{ "With"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_order') == 1 %}selected="selected"{% endif %}
                                        value="1">{{ "Without"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_order') == 2 %}selected="selected"{% endif %}
                                        value="2">{{ "Only converted"|trans }}</option>
                            </select>
                            <!-- FORM SELECT ICON -->
                            <svg class="form-select-icon icon-small-arrow">
                                <use xlink:href="#svg-small-arrow"></use>
                            </svg>
                            <!-- /FORM SELECT ICON -->
                        </div>
                        <!-- FORM SELECT -->
                        <div class="form-select">
                            <label for="downloads-filter-order">{{ "Order by"|trans }}</label>
                            <select id="downloads-filter-order" name="downloads_filter_order">
                                <option value="">{{ "Last added"|trans }}</option>
                                <option value="3">{{ "Last updated"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_order') == 1 %}selected="selected"{% endif %}
                                        value="1">{{ "Vote"|trans }}</option>
                                <option {% if app.request.get('downloads_filter_order') == 2 %}selected="selected"{% endif %}
                                        value="2">{{ "Duration"|trans }}</option>
                            </select>
                            <!-- FORM SELECT ICON -->
                            <svg class="form-select-icon icon-small-arrow">
                                <use xlink:href="#svg-small-arrow"></use>
                            </svg>
                            <!-- /FORM SELECT ICON -->
                        </div>
                        <!-- /FORM SELECT -->

                        <!-- BUTTON -->
                        <button type="submit" class="button primary">{{ "Filter songs"|trans }}</button>
                        <!-- /BUTTON -->
                    </div>
                    <!-- /FORM ITEM -->
                </form>
                <!-- /FORM -->
            </div>
            <!-- /SECTION FILTERS BAR -->

            <div class="table-wrap" data-simplebar>
                <div class="table table-downloads split-rows">
                    <div class="table-header">
                        <div class="table-header-column">
                            <p class="table-header-title">{{ "Song"|trans }}</p>
                        </div>
                        <div class="table-header-column padded">
                            <p class="table-header-title">{{ "LastUpdate"|trans }}</p>
                        </div>
                        <div class="table-header-column padded">
                            <p class="table-header-title">{{ "Duration"|trans }}</p>
                        </div>
                        <div class="table-header-column padded">
                            <p class="table-header-title">{{ "BPM"|trans }}</p>
                        </div>
                        <div class="table-header-column padded">
                            <p class="table-header-title">{{ "Votes"|trans }}</p>
                        </div>
                        <div class="table-header-column padded-left"></div>
                    </div>

                    <div class="table-body same-color-rows">
                        {% include 'songs/partial/song_row.html.twig' with {songs:songs} %}
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}


{% block endBody %}

    <!-- POPUP BOX -->
    <div class="popup-box small popup-review">
        <!-- POPUP CLOSE BUTTON -->
        <div class="popup-close-button popup-review-trigger">
            <!-- POPUP CLOSE BUTTON ICON -->
            <svg class="popup-close-button-icon icon-cross">
                <use xlink:href="#svg-cross"></use>
            </svg>
            <!-- /POPUP CLOSE BUTTON ICON -->
        </div>
        <!-- /POPUP CLOSE BUTTON -->

        <!-- POPUP BOX TITLE -->
        <p class="popup-box-title">Review Song</p>
        <!-- /POPUP BOX TITLE -->
        <div id="form-review">Loading please wait ...</div>
        <!-- FORM -->

        <!-- /FORM -->
    </div>
    <!-- /POPUP BOX -->

{% endblock %}
